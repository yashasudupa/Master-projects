<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Otawa: otawa::FeatureRequirer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Otawa
   &#160;<span id="projectnumber">0.10</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classotawa_1_1FeatureRequirer.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="classotawa_1_1FeatureRequirer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">otawa::FeatureRequirer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class provided feature requirement for non-program processor classes.  
 <a href="classotawa_1_1FeatureRequirer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="FeatureRequirer_8h_source.html">otawa/proc/FeatureRequirer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:acc9db1b63cc0b116a4348f910a1d3e75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classotawa_1_1FeatureRequirer.html#acc9db1b63cc0b116a4348f910a1d3e75">FeatureRequirer</a> (<a class="el" href="classotawa_1_1WorkSpace.html">WorkSpace</a> *ws, <a class="el" href="classotawa_1_1AbstractFeature.html">AbstractFeature</a> *features[])</td></tr>
<tr class="memdesc:acc9db1b63cc0b116a4348f910a1d3e75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the features are available.  <a href="#acc9db1b63cc0b116a4348f910a1d3e75">More...</a><br /></td></tr>
<tr class="separator:acc9db1b63cc0b116a4348f910a1d3e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:ac6370dca67d425447229a073801e73bf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classotawa_1_1FeatureRequirer.html#ac6370dca67d425447229a073801e73bf">require</a> (<a class="el" href="classotawa_1_1Processor.html">Processor</a> &amp;<a class="el" href="oipet_8cpp.html#a4fa9b3cd019c598bebf5eec00f9dda1c">proc</a>, <a class="el" href="classotawa_1_1AbstractFeature.html">AbstractFeature</a> *features[])</td></tr>
<tr class="memdesc:ac6370dca67d425447229a073801e73bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Added the given array of feature to the requirements of the processor.  <a href="#ac6370dca67d425447229a073801e73bf">More...</a><br /></td></tr>
<tr class="separator:ac6370dca67d425447229a073801e73bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class provided feature requirement for non-program processor classes. </p>
<p>It provides two methods that takes as parameter an array of required features ended by the <a class="el" href="namespaceotawa.html#a5be18e5e19086cbf9c7c2e8ee67f5ae8">NULL_FEATURE</a>.</p>
<p>The first one, the constructor, takes as parameter the workspace and the feature array and check that the features are available. If not, an assertion failure is raised. If the constant NDEBUG is defined, the check is not performed and no time is lost in this verification.</p>
<p>The second method is static and add to the current processor the array of feature as requirements. To make it working, each requirer must provide to the user processor a static method that calls this one in order to add the feature of the requirer to the feature of the processor. The constructor is only used to assert that the require method has been called.</p>
<p>Below, you may found an example. First, we provided a facility with a requirement: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="FeatureRequirer_8h.html">otawa/proc/FeatureRequirer.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">class </span>MyFacility: <span class="keyword">public</span> <a class="code" href="classotawa_1_1FeatureRequirer.html#acc9db1b63cc0b116a4348f910a1d3e75">FeatureRequirer</a> {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">   MyFacility(WorkSpace *ws): <a class="code" href="classotawa_1_1FeatureRequirer.html#acc9db1b63cc0b116a4348f910a1d3e75">FeatureRequirer</a>(ws, res) { }</div><div class="line">   <span class="keywordtype">void</span> doSomethingUseful(<span class="keywordtype">void</span>) { ... }</div><div class="line"></div><div class="line">   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classotawa_1_1FeatureRequirer.html#ac6370dca67d425447229a073801e73bf">require</a>(Processor&amp; <a class="code" href="oipet_8cpp.html#a4fa9b3cd019c598bebf5eec00f9dda1c">proc</a>) { <a class="code" href="classotawa_1_1FeatureRequirer.html#ac6370dca67d425447229a073801e73bf">require</a>(proc, reqs); }</div><div class="line"><span class="keyword">private</span>:</div><div class="line">   <span class="keyword">static</span> AbstractFeature *reqs[];</div><div class="line">};</div><div class="line"></div><div class="line">AbstractFeature *MyFacility::req[] = {</div><div class="line">   &amp;<a class="code" href="namespaceotawa.html#a8bc6acce083b31b575f35f68f84f5c4c">CONTROL_DECODING_FEATURE</a>,</div><div class="line">   &amp;<a class="code" href="namespaceotawa_1_1ipet.html#a13368376946245e1f85b5b7fe8b34641">BB_TIME_FEATURE</a>,</div><div class="line">   &amp;<a class="code" href="namespaceotawa.html#a5be18e5e19086cbf9c7c2e8ee67f5ae8">NULL_FEATURE</a></div><div class="line">};</div></div><!-- fragment --><p>Then, my processor uses my facility as below: </p><div class="fragment"><div class="line"><span class="keyword">class </span>MyProcessor: <span class="keyword">public</span> Processor {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">   MyProcessor(<span class="keywordtype">void</span>): Processor(<span class="stringliteral">&quot;MyProcessor&quot;</span>, Version(1, 0, 0)) {</div><div class="line">                   <a class="code" href="namespaceotawa_1_1p.html#a802fd13e40f2e8fb4069fa6dd2d75f44">provide</a>(MY_FEATURE);</div><div class="line">                   <a class="code" href="classotawa_1_1FeatureRequirer.html#ac6370dca67d425447229a073801e73bf">require</a>(LOOP_INFOS_FEATURE);</div><div class="line">                   <a class="code" href="namespaceotawa_1_1p.html#acdf1a6b40bcb4de283ee07d716cd2cf7">MyFacility::require</a>(*<span class="keyword">this</span>);</div><div class="line">           }</div><div class="line"></div><div class="line">           <span class="keywordtype">void</span> process(WorkSpace *ws) {</div><div class="line">           ...</div><div class="line">           MyFacility facility(ws);</div><div class="line">           ...</div><div class="line">   }</div><div class="line">};</div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acc9db1b63cc0b116a4348f910a1d3e75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">otawa::FeatureRequirer::FeatureRequirer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classotawa_1_1WorkSpace.html">WorkSpace</a> *&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classotawa_1_1AbstractFeature.html">AbstractFeature</a> *&#160;</td>
          <td class="paramname"><em>features</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check that the features are available. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ws</td><td>Workspace to work on. </td></tr>
    <tr><td class="paramname">features</td><td>Array of feature to check (ended by <a class="el" href="namespaceotawa.html#a5be18e5e19086cbf9c7c2e8ee67f5ae8">NULL_FEATURE</a>). </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classotawa_1_1WorkSpace.html#a6043a374280af9c5a388d40c51be2da6">otawa::WorkSpace::isProvided()</a>, and <a class="el" href="classotawa_1_1AbstractFeature.html#a12977c7b780375212444f0e9d903b902">otawa::AbstractFeature::null</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac6370dca67d425447229a073801e73bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void otawa::FeatureRequirer::require </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classotawa_1_1Processor.html">Processor</a> &amp;&#160;</td>
          <td class="paramname"><em>proc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classotawa_1_1AbstractFeature.html">AbstractFeature</a> *&#160;</td>
          <td class="paramname"><em>features</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Added the given array of feature to the requirements of the processor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc</td><td><a class="el" href="classotawa_1_1Processor.html" title="The processor class is implemented by all code processor. ">Processor</a> to add feature requirements to. </td></tr>
    <tr><td class="paramname">features</td><td>Array of feature to a requirement for (ended by <a class="el" href="namespaceotawa.html#a5be18e5e19086cbf9c7c2e8ee67f5ae8">NULL_FEATURE</a>). </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classotawa_1_1AbstractFeature.html#a12977c7b780375212444f0e9d903b902">otawa::AbstractFeature::null</a>, <a class="el" href="namespaceotawa.html#a5be18e5e19086cbf9c7c2e8ee67f5ae8">otawa::NULL_FEATURE</a>, and <a class="el" href="classotawa_1_1Processor.html#acb1e299cc39ac2598ba286276a941b99">otawa::Processor::require()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/otawa/proc/<a class="el" href="FeatureRequirer_8h_source.html">FeatureRequirer.h</a></li>
<li>src/prog/<a class="el" href="proc__FeatureRequirer_8cpp.html">proc_FeatureRequirer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceotawa.html">otawa</a></li><li class="navelem"><a class="el" href="classotawa_1_1FeatureRequirer.html">FeatureRequirer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
